<!doctype html>
<html>
<head>
<title>Deadbeat Escapement Simulator</title>
</head>
<body>
<h1>Deadbeat Escapement Simulator</h1>

<button id="testbed-play">Play</button>
<span id="testbed-status"></span>
<span id="testbed-info"></span>

<script src="planck-with-testbed.min.js"></script>
<script type="text/javascript">
    const { World, Testbed, Vec2, Box, Circle, DistanceJoint } = planck;
    const world = new World({
        gravity: new Vec2(0.0, -500.0),
    });

    const testbed = Testbed.mount();
    testbed.start(world);

    let pivot = world.createBody({
        type: 'static',
        position: new Vec2(0.0, 30.0),
    });

    let bob = world.createBody({
        type: 'dynamic',
        position: new Vec2(1.0, 0.0),
    });
    bob.createFixture({
        shape: new Circle(2, new Vec2(0, 0)),
        density: 1.0,
        friction: 0.3,
    });

    let joint = world.createJoint(new DistanceJoint({}, bob, pivot, bob.getWorldCenter(), pivot.getWorldCenter()));
</script>
</body>
</html>
